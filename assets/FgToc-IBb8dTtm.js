import{f as V,M as q,U as F,p as w,m as N,h as x,W,J as z,X as D,r as O,c as a,k as u,o as c,b as l,Y as h,a as C,t as m,u as o,F as Y,i as A,l as T}from"./app-UqxEsns9.js";import{u as H}from"./useToc-CE6m48uV.js";import{u as J}from"./useWindowSize-BP8k0l_j.js";const P={key:0,class:"vp-toc-placeholder"},U={class:"sticky top-0 bg-body dark:bg-body-dark border-b flex-space-2 py-1 px-2 -mx-6 cursor-pointer lg:hidden text-sm"},X={key:0,class:"vp-toc-header hidden lg:flex"},j={key:0,class:"vp-toc-title"},G=["title"],K={class:"vp-toc-wrapper"},Q={class:"vp-toc-list"},Z=["data-slug"],ee=["onClick","href"],ce=V({__name:"FgToc",setup(te){const{isMobile:B}=J(),i=q(),{enabled:E,title:p,marker:L,print:f,offset:d}=H(),g=F(),M=w(()=>E&&g.value.length),{themeLocale:R}=N(),{printLabel:$}=R.value,r=x(null),v=x(!1),_=()=>{v.value=!v.value},k=e=>{_();const s=document.getElementById(e);if(!s)return;const n=s.getBoundingClientRect().top+window.scrollY-d;window.scrollTo({top:n,behavior:"smooth"})},b=w(()=>(i.hash??"").slice(1)),y=()=>{const e=document.querySelector(`[data-slug="${b.value}"]`);r.value&&(e?(r.value.classList.remove("hidden"),r.value.style.top=`${e.offsetTop}px`):(r.value.classList.add("hidden"),r.value.style.top="0px")),B.value||S()},S=()=>{const e=document.querySelector(`[data-slug="${b.value}"]`);if(e instanceof HTMLElement){const s=document.querySelector(".vp-toc-wrapper");if(!s)return;const n=s.getBoundingClientRect(),t=e.getBoundingClientRect();(t.top<n.top+d||t.bottom>n.bottom-d)&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},I=()=>{window.print()};return W(()=>i.hash,(e,s)=>{s!==e&&y()}),z(async()=>{await D(),y(),i.hash&&k(i.hash.slice(1))}),(e,s)=>{const n=O("fg-icon");return M.value?(c(),a("div",P,[l("div",U,[l("button",{type:"button",role:"button",onClick:h(_,["prevent"]),class:"flex-space-1"},[l("span",null,m(o(p)??"On this page"),1),C(n,{icon:"bi-chevron-right"})])]),l("aside",{id:"vp-toc",class:T(["vp-toc",{open:v.value}]),"vp-toc":""},[o(p)||o(f)?(c(),a("div",X,[o(p)?(c(),a("span",j,m(o(p)),1)):u("",!0),o(f)?(c(),a("button",{key:1,type:"button",onClick:h(I,["prevent"]),class:"print-button",title:o($)},[C(n,{icon:"bi-printer"})],8,G)):u("",!0)])):u("",!0),l("div",K,[l("ul",Q,[(c(!0),a(Y,null,A(o(g),t=>(c(),a("li",{key:t.slug,class:"vp-toc-item","data-slug":t.slug},[l("a",{onClick:h(oe=>k(t.slug),["prevent"]),href:`#${t.slug}`,class:T(["vp-toc-link vp-sidebar-item",[`level-${t.level}`,{active:o(i).hash===t.link}]])},m(t.title),11,ee)],8,Z))),128))]),o(L)?(c(),a("div",{key:0,class:"vp-toc-marker",ref_key:"markerEl",ref:r},null,512)):u("",!0)])],2)])):u("",!0)}}});export{ce as default};
